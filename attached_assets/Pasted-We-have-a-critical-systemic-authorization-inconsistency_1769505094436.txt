We have a critical, systemic authorization inconsistency affecting BOTH HANDLER and PROJECT_MANAGER:

Problem Type 1 (Unauthorized items still visible):
- Some UI items appear (e.g., Notifications, Profile) even when the user was NOT granted permission to access them.
- When the user clicks them, backend correctly denies access.
- This is unacceptable UX. If not permitted, it must not appear at all.

Problem Type 2 (Authorized items visible but cannot be opened):
- We grant HANDLER (and similarly PM) permissions for features like:
  - Create New Report
  - Tasks access
  - Incidents/Suspicions
  - Breeding/Production features
- These items appear in UI, BUT clicking them results in:
  “Not authorized / you do not have permissions to access this page”
- This is a major failure: permission granted must mean the user can actually open the intended page.

This indicates a ROOT issue:
- UI permission keys do not match the backend permission keys guarding the final destination routes, OR
- Links/buttons route to a different endpoint than intended (e.g., link points to an analytics/hub page), OR
- Extra backend conditions exist (scope/ownership/state) that are not reflected in UI gating, OR
- Multiple layouts/menus are inconsistent (desktop/mobile/header/sidebar).

GOAL (End-to-End Consistency):
For HANDLER and PM (non-admin):
1) Deny-by-default UI: Anything not permitted must be hidden everywhere.
2) No false positives: If UI shows a link/button, the user must be able to open the destination successfully.
3) UI permissions must match backend route guards 1:1.

TASKS (Complete the full fix, not partial):
A) Build a Permission-to-Route Mapping (Internal Audit):
- Identify the main navigation items and key actions for HANDLER and PM (Profile, Notifications, New Report, Tasks, Incidents, Breeding/Production, Reports hub, etc.).
- For EACH UI item/action, document:
  1) the UI link/button destination route (final URL/endpoint)
  2) the backend permission key(s) required for that route
  3) any scope constraints (project/assignment/ownership)
  4) the permission key(s) the UI currently checks
- Find mismatches.

B) Fix Unauthorized-Visible Items:
- Ensure Profile, Notifications, and any other items only render if the user has the exact permission required to access their final routes.
- Apply this across ALL UI entry points (desktop header, mobile menu, sidebar, dashboard tiles, module hubs).

C) Fix Authorized-But-Blocked Items:
- For each feature we grant (e.g., “Create New Report”):
  - Ensure the permission key we grant is exactly the one guarding the route the button opens.
  - If the button routes to the wrong endpoint, correct the link to the correct permitted endpoint.
  - If backend requires additional permission (e.g., view vs create), update the UI gating to require the correct permission, and ensure the granted permission matches.
  - If backend requires scope conditions (e.g., must have an assigned shift to create a report), then:
     - The UI must hide/disable the action when the scope condition is not met,
     - And show a clear message why (optional).
  The result must be: granted permission => page opens successfully when logically applicable.

D) Provide a clear, consistent permission naming/use:
- effective_permissions(user) must be the single source of truth.
- Remove role-only checks that bypass effective permissions for non-admin roles.

ACCEPTANCE CRITERIA (Must Pass):
Test 1 (No unauthorized visible):
- Create a HANDLER with no profile/notification permissions:
  - Profile/Notifications must NOT appear anywhere in UI.
  - Same for PM.

Test 2 (Granted means accessible):
- Grant HANDLER the permission for “New Report” and ensure the handler has the needed scope (e.g., assigned shift if required by design):
  - “New Report” appears
  - Clicking it opens the correct page (no unauthorized error)
- Repeat for Tasks, Incidents, Breeding/Production.

Test 3 (Consistency across UI variants):
- Desktop header, mobile menu, dashboard tiles all behave identically.

Test 4 (No hub redirect leaks):
- Clicking a permitted item must not redirect into a denied hub/analytics page.

DELIVERABLES (You must include):
1) A short “mapping summary” listing the key items fixed and what mismatch was corrected (UI check vs backend guard).
2) A numbered manual test plan for HANDLER and PM based on Tests 1–4.
3) Confirm which items are intentionally always visible (ONLY if truly required, otherwise none).

Implement this thoroughly; do not respond with generic “I gated links”. I need the mismatches resolved so the system behavior matches granted permissions exactly.
